{% extends "base/base.html" %}
{% block title %}- Status{% endblock %}
{% block styles %}
    {{ super() }}
{% endblock %}
{% block content %}
<div class="container">
    <div class="row">
      <div class="col s10 l8 offset-s1 offset-l2">
            <div class="card blue-grey darken-1">
                <div class="card-content white-text">
                    <span class="card-title">监控概览 {#{ data['stat'] }#}</span>
                    <p>
                        服务状态：{{ data['stat'] }}
                        监控数： {{ data.pagination.total }}
                    </p>
                </div>
            </div>
            <hr />
            {% for i in data['monitors'] %}
                <div class="card  darken-1">
                    <div class="card-content grey-text">
                        <span class="card-title">监控项：<a href="{{ i.url | safe }}" target="_blank" title="监控项">{{ i.friendly_name }}</a> </span>
                      创建时间：{{ i.create_datetime | fromtimestamp }}<br >
                      监控类型：{% if i.type == 1  %}HTTPS {% elif i.type == 3 %}PING{% else %} 未知{% endif %}  <br />
                      当前状态：{%  if i.status == 2 %}OK{% else %}Error{% endif %}<br />
                      监控间隔：+ {{ i.interval }}s<br />

                      {% for log in i.logs %}
                        日志状态：{% if log.type == 2 %}Up{% elif log.type == 1 %}Down{% elif log.type == 98 %}Start{% else %}Pause{% endif %}<br />
                          日志时间：{{ log.datetime | fromtimestamp }}<br />
                          故障持续时间：{{ log.duration }}<br />
                          故障原因：{{ log.reason.reason_detail }}<br />
                      {% endfor %}
                    </div>
                </div>
          {% endfor %}



      </div>
    </div>
  </div>
{% endblock %}
{% block scripts %}
    {{ super() }}
{% endblock %}